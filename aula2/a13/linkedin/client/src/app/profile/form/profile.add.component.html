<article class="container">
    <form #addProfile="ngForm" (ngSubmit)="save(addProfile)">
        <div class="jumbotron">
            <h1>Add new user</h1>
            <div>
                <label for="choosePicture">Drag or choose a picture</label><br>
                <input type="file" id="addPicture" (change)="getPicture($event)" name="photo">
                <div class="alert alert-dismissible alert-danger" *ngIf="showPhotoMsg">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    The field is required!
                </div>
            </div>
            <div class="text-center" *ngIf="profile.photo">
                <img src="{{profile.photo}}" alt="" class="clip-circle">
            </div>

            <div class="panel-identification">
                <div class="form-group" [class.has-error]="(!name.valid && name.touched) || (name.untouched && name.dirty && name.invalid)">
                    <label class="control-label" for="name" >Name</label>
                    <input class="form-control"
                           id="name"
                           name="name"
                           type="text"
                           value=""
                           #name="ngModel"
                           [(ngModel)]="profile.name"
                           required>
                    <div class="alert alert-dismissible alert-danger" *ngIf="(!name.valid && name.touched) || (name.untouched && name.dirty && name.invalid)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The field is required!
                    </div>
                </div>
                <div class="form-group" [class.has-error]="(!job.valid && job.touched) || (job.untouched && job.dirty && job.invalid)">
                    <label class="control-label" for="job" >Job</label>
                    <input class="form-control"
                           id="job"
                           name="job"
                           type="text"
                           value=""
                           #job="ngModel"
                           [(ngModel)]="profile.job"
                           required>
                    <div class="alert alert-dismissible alert-danger" *ngIf="(!job.valid && job.touched) || (job.untouched && job.dirty && job.invalid)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The field is required!
                    </div>
                </div>
                <div class="form-group" [class.has-error]="(!email.valid && email.touched) || (email.untouched && email.dirty && email.invalid)">
                    <label class="control-label" for="email" >E-mail</label>
                    <input class="form-control"
                           id="email"
                           name="email"
                           type="email"
                           value=""
                           #email="ngModel"
                           [(ngModel)]="profile.email"
                           required
                           email>
                    <div class="alert alert-dismissible alert-warning" *ngIf="(email.errors?.email && email.touched) || (email.untouched && email.dirty && email.invalid)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        It is not a valid value!
                    </div>

                    <div class="alert alert-dismissible alert-danger" *ngIf="(email.errors?.required && email.touched) || (email.untouched && email.dirty && email.errors?.required)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The field is required!
                    </div>
                </div>
                <div class="form-group" [class.has-error]="(!username.valid && username.touched) || (username.untouched && username.dirty && username.invalid)">
                    <label class="control-label" for="username" >Username</label>
                    <input class="form-control"
                           id="username"
                           name="username"
                           type="text"
                           value=""
                           #username="ngModel"
                           [(ngModel)]="profile.username"
                           required>
                    <div class="alert alert-dismissible alert-warning" *ngIf="(username.errors?.username && username.touched) || (username.untouched && username.dirty && username.invalid)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        It is not a valid value!
                    </div>
                    <div class="alert alert-dismissible alert-danger" *ngIf="(username.errors?.required && username.touched) || (username.untouched && username.dirty && username.errors?.required)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The field is required!
                    </div>
                </div>
                <div class="form-group" [class.has-error]="(!password.valid && password.touched) || (password.untouched && password.dirty && password.invalid)">
                    <label class="control-label" for="password">Password</label>
                    <input class="form-control"
                           name="password"
                           type="password"
                           id="password"
                           value=""
                           #password="ngModel"
                           [(ngModel)]="profile.password"
                           required>
                    <div class="alert alert-dismissible alert-danger" *ngIf="(!password.valid && password.touched) || (password.untouched && password.dirty && password.invalid)">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The field is required!
                    </div>
                </div>
            </div>
            <button class="btn btn-default" routerLink="/login">Back</button>
            <button type="submit" class="btn btn-primary" [disabled]="addProfile.invalid">Save</button>
        </div>
    </form>
</article>